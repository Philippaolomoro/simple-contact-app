{"ast":null,"code":"var _jsxFileName = \"/Users/philippaolomoro/Documents/projects/interview-test/factorial/client/src/components/ContactForm.js\",\n    _s = $RefreshSig$();\n\nimport { Button, TextField } from \"@mui/material\";\nimport { withStyles } from \"@mui/styles\";\nimport PropTypes from \"prop-types\";\nimport React, { useMemo } from \"react\";\nimport { Formik, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useQuery } from \"react-query\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst styles = {\n  root: {\n    '& .MuiTextField-root': {\n      margin: \"8px\"\n    }\n  },\n  form: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\"\n  },\n  submitButton: {\n    width: \"50%\"\n  }\n};\n\nconst ContactForm = _ref => {\n  _s();\n\n  let {\n    classes,\n    contactId,\n    setContactId\n  } = _ref;\n  const {\n    data\n  } = useQuery(`/contacts/${contactId}`, {\n    enabled: Boolean(contactId)\n  });\n  console.log(contactId);\n\n  const handleSubmit = (values, actions) => {\n    console.log(values);\n    actions.setSubmitting(false);\n  };\n\n  const initialValues = useMemo(() => {\n    return [\"firstName\", \"lastName\", \"email\", \"phoneNumber\"].reduce((values, key) => {\n      var _data$contact$key, _data$contact;\n\n      return { ...values,\n        [key]: (_data$contact$key = data === null || data === void 0 ? void 0 : (_data$contact = data.contact) === null || _data$contact === void 0 ? void 0 : _data$contact[key]) !== null && _data$contact$key !== void 0 ? _data$contact$key : \"\"\n      };\n    }, {});\n  }, [data === null || data === void 0 ? void 0 : data.contact]);\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    enableReinitialize: true,\n    onSubmit: handleSubmit,\n    initialValues: initialValues,\n    validationSchema: Yup.object({\n      firstName: Yup.string().required(),\n      lastName: Yup.string().required(),\n      email: Yup.string().email().required(),\n      phoneNumber: Yup.string().min(10).max(16).required()\n    }),\n    children: _ref2 => {\n      let {\n        handleSubmit,\n        handleChange,\n        handleBlur,\n        values\n      } = _ref2;\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        className: `${classes.root} ${classes.form}`,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          name: \"firstName\",\n          variant: \"outlined\",\n          label: \"First Name\",\n          fullWidth: true,\n          value: values.firstName,\n          onChange: handleChange,\n          onBlur: handleBlur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"firstName\",\n          component: \"p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"lastName\",\n          variant: \"outlined\",\n          label: \"Last Name\",\n          fullWidth: true,\n          value: values.lastName,\n          onChange: handleChange,\n          onBlur: handleBlur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"lastName\",\n          component: \"p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"email\",\n          variant: \"outlined\",\n          label: \"Email\",\n          fullWidth: true,\n          value: values.email,\n          onChange: handleChange,\n          onBlur: handleBlur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"email\",\n          component: \"p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"phoneNumber\",\n          variant: \"outlined\",\n          label: \"Phone Number\",\n          fullWidth: true,\n          value: values.phoneNumber,\n          onChange: handleChange,\n          onBlur: handleBlur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"phoneNumber\",\n          component: \"p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          size: \"large\",\n          type: \"submit\",\n          className: classes.submitButton,\n          children: !Boolean(data === null || data === void 0 ? void 0 : data.contact) ? \"Create\" : \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), Boolean(data === null || data === void 0 ? void 0 : data.contact) && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          size: \"large\",\n          type: \"button\",\n          onClick: () => setContactId(null),\n          className: classes.submitButton,\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContactForm, \"cqJdsZvXzGXNZe6mCR7VDIpptUU=\", false, function () {\n  return [useQuery];\n});\n\n_c = ContactForm;\nContactForm.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(ContactForm);\n\nvar _c;\n\n$RefreshReg$(_c, \"ContactForm\");","map":{"version":3,"sources":["/Users/philippaolomoro/Documents/projects/interview-test/factorial/client/src/components/ContactForm.js"],"names":["Button","TextField","withStyles","PropTypes","React","useMemo","Formik","ErrorMessage","Yup","useQuery","styles","root","margin","form","display","flexWrap","justifyContent","submitButton","width","ContactForm","classes","contactId","setContactId","data","enabled","Boolean","console","log","handleSubmit","values","actions","setSubmitting","initialValues","reduce","key","contact","object","firstName","string","required","lastName","email","phoneNumber","min","max","handleChange","handleBlur","propTypes","isRequired"],"mappings":"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","sourcesContent":["import { Button, TextField } from \"@mui/material\";\nimport { withStyles } from \"@mui/styles\";\nimport PropTypes from \"prop-types\";\nimport React, { useMemo } from \"react\";\nimport { Formik, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useQuery } from \"react-query\";\n\nconst styles ={\n  root: {\n    '& .MuiTextField-root': { margin: \"8px\", },\n  },\n  form: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\"\n  },\n  submitButton: {\n    width: \"50%\"\n  }\n}\n\nconst ContactForm = ({ classes, contactId, setContactId }) => {\n  const { data } = useQuery(`/contacts/${contactId}`, {\n    enabled: Boolean(contactId),\n  });\n\n  console.log(contactId);\n\n  const handleSubmit = (values, actions) => {\n    console.log(values);\n    actions.setSubmitting(false);\n  }\n\n  const initialValues = useMemo(() => {\n    return [\n      \"firstName\",\n      \"lastName\",\n      \"email\",\n      \"phoneNumber\",\n    ].reduce((values, key) => ({\n      ...values,\n      [key]: data?.contact?.[key] ?? \"\",\n    }), {})\n  }, [data?.contact]);\n\n  return (\n    <Formik\n      enableReinitialize\n      onSubmit={handleSubmit}\n      initialValues={initialValues}\n      validationSchema={Yup.object({\n        firstName: Yup.string().required(),\n        lastName: Yup.string().required(),\n        email: Yup.string().email().required(),\n        phoneNumber: Yup.string().min(10).max(16).required(),\n      })}\n    >\n      {({ handleSubmit, handleChange, handleBlur, values }) => (\n        <form className={`${classes.root} ${classes.form}`} onSubmit={handleSubmit} >\n          <TextField\n            name=\"firstName\"\n            variant=\"outlined\"\n            label=\"First Name\"\n            fullWidth\n            value={values.firstName}\n            onChange={handleChange}\n            onBlur={handleBlur}\n          />\n          <ErrorMessage name=\"firstName\" component=\"p\" />\n\n          <TextField\n            name=\"lastName\"\n            variant=\"outlined\"\n            label=\"Last Name\"\n            fullWidth\n            value={values.lastName}\n            onChange={handleChange}\n            onBlur={handleBlur}\n          />\n          <ErrorMessage name=\"lastName\" component=\"p\" />\n\n          <TextField\n            name=\"email\"\n            variant=\"outlined\"\n            label=\"Email\"\n            fullWidth\n            value={values.email}\n            onChange={handleChange}\n            onBlur={handleBlur}\n          />\n          <ErrorMessage name=\"email\" component=\"p\" />\n\n          <TextField\n            name=\"phoneNumber\"\n            variant=\"outlined\"\n            label=\"Phone Number\"\n            fullWidth\n            value={values.phoneNumber}\n            onChange={handleChange}\n            onBlur={handleBlur}\n          />\n          <ErrorMessage name=\"phoneNumber\" component=\"p\" />\n          \n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            type=\"submit\"\n            className={classes.submitButton}\n          >\n            {!Boolean(data?.contact) ? \"Create\" : \"Update\" }\n          </Button>\n          {\n          Boolean(data?.contact) && (\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              type=\"button\"\n              onClick={() => setContactId(null)}\n              className={classes.submitButton}\n            >\n              Reset\n            </Button>\n          )}\n          \n        </form>\n      )}\n    </Formik>\n  );\n}\n\nContactForm.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(ContactForm);\n"]},"metadata":{},"sourceType":"module"}