{"ast":null,"code":"var _jsxFileName = \"/Users/philippaolomoro/Documents/projects/interview-test/factorial/client/src/components/ContactForm.js\",\n    _s = $RefreshSig$();\n\nimport { Button, TextField } from \"@mui/material\";\nimport { withStyles } from \"@mui/styles\";\nimport PropTypes from \"prop-types\";\nimport React, { useCallback, useMemo } from \"react\";\nimport { Formik, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { useStore } from \"../store\";\nimport apiClient from \"../http-common\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst styles = {\n  root: {\n    '& .MuiTextField-root': {\n      margin: \"8px\"\n    }\n  },\n  form: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\"\n  },\n  submitButton: {\n    width: \"50%\"\n  }\n};\n\nconst ContactForm = _ref => {\n  _s();\n\n  let {\n    classes\n  } = _ref;\n  const queryClient = useQueryClient();\n  const createMutation = useMutation(data => {\n    return apiClient.post(\"/contacts\", data);\n  }, {\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"contacts\"]);\n    },\n    onMutate: data => data\n  });\n  const updateMutation = useMutation(data => {\n    return apiClient.put(\"/contacts\", data);\n  }, {\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"contacts\"]);\n    },\n    onMutate: data => data\n  });\n  const {\n    updateStore,\n    contact: {\n      editingId: contactId\n    }\n  } = useStore();\n  const {\n    data\n  } = useQuery(`/contacts/${contactId}`, {\n    enabled: Boolean(contactId)\n  });\n  const handleCreateContact = useCallback((_ref2, actions) => {\n    let {\n      phoneNumber,\n      firstName,\n      lastName,\n      email\n    } = _ref2;\n\n    try {\n      createMutation.mutate({\n        phoneNumber,\n        firstName,\n        lastName,\n        email\n      });\n      updateStore(\"formModal\", {\n        open: false\n      });\n      actions.resetForm();\n    } finally {\n      actions.setSubmitting(false);\n    }\n  }, [createMutation]);\n  const handleUpdateContact = useCallback((values, actions) => {\n    try {\n      upate.mutate({\n        phoneNumber,\n        firstName,\n        lastName,\n        email\n      });\n      updateStore(\"formModal\", {\n        open: false\n      });\n      actions.resetForm();\n    } finally {\n      actions.setSubmitting(false);\n    }\n  }, [contactId]);\n  const initialValues = useMemo(() => {\n    return [\"firstName\", \"lastName\", \"email\", \"phoneNumber\"].reduce((values, key) => {\n      var _data$contact$key, _data$contact;\n\n      return { ...values,\n        [key]: (_data$contact$key = data === null || data === void 0 ? void 0 : (_data$contact = data.contact) === null || _data$contact === void 0 ? void 0 : _data$contact[key]) !== null && _data$contact$key !== void 0 ? _data$contact$key : \"\"\n      };\n    }, {});\n  }, [data === null || data === void 0 ? void 0 : data.contact]);\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    enableReinitialize: true,\n    onSubmit: !Boolean(data === null || data === void 0 ? void 0 : data.contact) ? handleCreateContact : handleUpdateContact,\n    initialValues: initialValues,\n    validationSchema: Yup.object({\n      firstName: Yup.string().required(),\n      lastName: Yup.string().required(),\n      email: Yup.string().email().required(),\n      phoneNumber: Yup.string().min(10).max(16).required()\n    }),\n    children: _ref3 => {\n      let {\n        handleSubmit,\n        handleChange,\n        handleBlur,\n        handleReset,\n        values,\n        isSubmitting\n      } = _ref3;\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        className: `${classes.root} ${classes.form}`,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          name: \"firstName\",\n          variant: \"outlined\",\n          label: \"First Name\",\n          fullWidth: true,\n          value: values.firstName,\n          onChange: handleChange,\n          onBlur: handleBlur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"firstName\",\n          component: \"p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"lastName\",\n          variant: \"outlined\",\n          label: \"Last Name\",\n          fullWidth: true,\n          value: values.lastName,\n          onChange: handleChange,\n          onBlur: handleBlur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"lastName\",\n          component: \"p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"email\",\n          variant: \"outlined\",\n          label: \"Email\",\n          fullWidth: true,\n          value: values.email,\n          onChange: handleChange,\n          onBlur: handleBlur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"email\",\n          component: \"p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"phoneNumber\",\n          variant: \"outlined\",\n          label: \"Phone Number\",\n          fullWidth: true,\n          value: values.phoneNumber,\n          onChange: handleChange,\n          onBlur: handleBlur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"phoneNumber\",\n          component: \"p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          size: \"large\",\n          type: \"submit\",\n          className: classes.submitButton,\n          disabled: isSubmitting,\n          children: !Boolean(data === null || data === void 0 ? void 0 : data.contact) ? \"Create\" : \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), Boolean(data === null || data === void 0 ? void 0 : data.contact) && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          size: \"large\",\n          type: \"reset\",\n          onClick: () => {\n            handleReset();\n            updateStore(\"contact\", {\n              editingId: null\n            });\n            updateStore(\"formModal\", {\n              open: false\n            });\n          },\n          className: classes.submitButton,\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContactForm, \"zPwcY91/bapqepMxtkqep6RjDL8=\", false, function () {\n  return [useQueryClient, useMutation, useMutation, useStore, useQuery];\n});\n\n_c = ContactForm;\nContactForm.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(ContactForm);\n\nvar _c;\n\n$RefreshReg$(_c, \"ContactForm\");","map":{"version":3,"sources":["/Users/philippaolomoro/Documents/projects/interview-test/factorial/client/src/components/ContactForm.js"],"names":["Button","TextField","withStyles","PropTypes","React","useCallback","useMemo","Formik","ErrorMessage","Yup","useMutation","useQuery","useQueryClient","useStore","apiClient","styles","root","margin","form","display","flexWrap","justifyContent","submitButton","width","ContactForm","classes","queryClient","createMutation","data","post","onSuccess","invalidateQueries","onMutate","updateMutation","put","updateStore","contact","editingId","contactId","enabled","Boolean","handleCreateContact","actions","phoneNumber","firstName","lastName","email","mutate","open","resetForm","setSubmitting","handleUpdateContact","values","upate","initialValues","reduce","key","object","string","required","min","max","handleSubmit","handleChange","handleBlur","handleReset","isSubmitting","propTypes","isRequired"],"mappings":"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","sourcesContent":["import { Button, TextField } from \"@mui/material\";\nimport { withStyles } from \"@mui/styles\";\nimport PropTypes from \"prop-types\";\nimport React, { useCallback, useMemo } from \"react\";\nimport { Formik, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { useStore } from \"../store\";\nimport apiClient from \"../http-common\";\n\nconst styles ={\n  root: {\n    '& .MuiTextField-root': { margin: \"8px\", },\n  },\n  form: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\"\n  },\n  submitButton: {\n    width: \"50%\"\n  }\n}\n\nconst ContactForm = ({ classes }) => {\n  const queryClient = useQueryClient();\n  const createMutation = useMutation((data) => {\n    return apiClient.post(\"/contacts\", data);\n  }, {\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"contacts\"]);\n    },\n    onMutate: (data) => data,\n  });\n\n  const updateMutation = useMutation((data) => {\n    return apiClient.put(\"/contacts\", data);\n  }, {\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"contacts\"]);\n    },\n    onMutate: (data) => data,\n  });\n\n\n  const { updateStore, contact: {\n    editingId: contactId\n  }} = useStore();\n\n  const { data } = useQuery(`/contacts/${contactId}`, {\n    enabled: Boolean(contactId),\n  });\n\n  const handleCreateContact = useCallback(({\n    phoneNumber,\n    firstName,\n    lastName,\n    email,\n  }, actions) => {\n    try {\n      createMutation.mutate({\n        phoneNumber,\n        firstName,\n        lastName,\n        email,\n      });\n\n      updateStore(\"formModal\", {\n        open: false,\n      });\n      actions.resetForm();\n    } finally {\n      actions.setSubmitting(false);\n    }\n  }, [createMutation]);\n\n  const handleUpdateContact = useCallback((values, actions) => {\n    try {\n      upate.mutate({\n        phoneNumber,\n        firstName,\n        lastName,\n        email,\n      });\n\n      updateStore(\"formModal\", {\n        open: false,\n      });\n      actions.resetForm();\n    } finally {\n      actions.setSubmitting(false);\n    }\n  }, [contactId])\n\n  const initialValues = useMemo(() => {\n    return [\n      \"firstName\",\n      \"lastName\",\n      \"email\",\n      \"phoneNumber\",\n    ].reduce((values, key) => ({\n      ...values,\n      [key]: data?.contact?.[key] ?? \"\",\n    }), {})\n  }, [data?.contact]);\n\n  return (\n    <Formik\n      enableReinitialize\n      onSubmit={\n        !Boolean(data?.contact)\n          ? handleCreateContact\n          : handleUpdateContact\n      }\n      initialValues={initialValues}\n      validationSchema={Yup.object({\n        firstName: Yup.string().required(),\n        lastName: Yup.string().required(),\n        email: Yup.string().email().required(),\n        phoneNumber: Yup.string().min(10).max(16).required(),\n      })}\n    >\n      {({ handleSubmit, handleChange, handleBlur, handleReset, values, isSubmitting }) => (\n        <form className={`${classes.root} ${classes.form}`} onSubmit={handleSubmit} >\n          <TextField\n            name=\"firstName\"\n            variant=\"outlined\"\n            label=\"First Name\"\n            fullWidth\n            value={values.firstName}\n            onChange={handleChange}\n            onBlur={handleBlur}\n          />\n          <ErrorMessage name=\"firstName\" component=\"p\" />\n\n          <TextField\n            name=\"lastName\"\n            variant=\"outlined\"\n            label=\"Last Name\"\n            fullWidth\n            value={values.lastName}\n            onChange={handleChange}\n            onBlur={handleBlur}\n          />\n          <ErrorMessage name=\"lastName\" component=\"p\" />\n\n          <TextField\n            name=\"email\"\n            variant=\"outlined\"\n            label=\"Email\"\n            fullWidth\n            value={values.email}\n            onChange={handleChange}\n            onBlur={handleBlur}\n          />\n          <ErrorMessage name=\"email\" component=\"p\" />\n\n          <TextField\n            name=\"phoneNumber\"\n            variant=\"outlined\"\n            label=\"Phone Number\"\n            fullWidth\n            value={values.phoneNumber}\n            onChange={handleChange}\n            onBlur={handleBlur}\n          />\n          <ErrorMessage name=\"phoneNumber\" component=\"p\" />\n          \n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            type=\"submit\"\n            className={classes.submitButton}\n            disabled={isSubmitting}\n          >\n            {!Boolean(data?.contact) ? \"Create\" : \"Update\" }\n          </Button>\n\n          {Boolean(data?.contact) && (\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              type=\"reset\"\n              onClick={() => {\n                handleReset();\n                updateStore(\"contact\", {\n                  editingId: null,\n                });\n                updateStore(\"formModal\", { open: false });\n              }}\n              className={classes.submitButton}\n            >\n              Reset\n            </Button>\n          )}\n          \n        </form>\n      )}\n    </Formik>\n  );\n}\n\nContactForm.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(ContactForm);\n"]},"metadata":{},"sourceType":"module"}